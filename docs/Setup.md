# Руководство по настройке оборудования.
## 1. Настройка полетного контроллера.
Вся настройка происходит в приложении QGroundControl. Подклюяаемся к полетному контроллеру через type-c провод и в приложении отобразиться подключенное устройство. Далее необходимо его прошить на последнюю стабильную версию (Рис.1), настроить все датчики, откалибровать пульт, настроить питание, а также ввести параметры необходимые для стабильного полета дрона:
* MC_PITCHRATE_P  - ```0.078```
* MC_PITCHRATE_I  - ```0.0949```
* MC_PITCHRATE_D	- ```0.0049```
* MC_PITCH_P	    - ```8.50```
* MC_ROLLRATE_P	  - ```0.078```
* MC_ROLLRATE_I	  - ```0.0949```
* MC_ROLLRATE_D	  - ```0.0049```
* MC_ROLL_P	      - ```8.50```
* MPC_XY_P        - ```1.139```
* MPC_XY_VEL_D    - ```0.012```
* MPC_XY_VEL_I	  - ```0.023```
* MPC_XY_VEL_P	  - ```0.129```
* MPC_Z_P	        - ```1.20```
* MPC_Z_VEL_D	    - ```0.0```
* MPC_Z_VEL_I	    - ```0.019```
* MPC_Z_VEL_P	    - ```0.239```
![1111](https://user-images.githubusercontent.com/47917455/149168671-4dca6fc2-ac6f-4db5-9023-3118fb95ca9e.png)
Рис.1  
  
***Вместо ручного внесения значений параметров можно импортировать параметры дрона из подготовленного файла. Для этого необходимо нажать на кнопку "Tool", выбрать "Load from file" и выбрать файл [Stable_param.params](https://github.com/petayyyy/Lorett/blob/main/FCU/Stable_param.params) (Рис.2). После этого все параметры импортируются на полетный контроллер.***
![1111](https://user-images.githubusercontent.com/47917455/149169748-543165f4-f6ff-4f21-8c2f-82c6ab8f49dc.png)
Рис.2  
  
### Более подробная документация по настройке находиться по [ссылке](https://clover.coex.tech/ru/setup.html).  
## 2. Настройка и подготовка полетной миссии.
Важной частью в принятии сигнала является корректная настройка оборудования. Поэтому перед полетом необходимо корректно сконфигурировать файлы, строющие полетную миссию. Для этого необходимо настроить все в соответствии с [Руководстводством по установке ПО](https://github.com/petayyyy/Lorett/blob/main/docs/Installing_software.md). Далее, необходимо сконфигурировать файл, отвечающий за построение полетной миссии [getPass_file.py](https://github.com/petayyyy/Lorett/blob/main/getPass_file.py).  
Переходим в папку с файлом.
```bash
cd Lorett
```
Открываем файл в режиме радактора.
```bash
sudo nano getPass_file.py
```
Необходимо изменить:
* На 8 строке значение lot - широта.
* На 9 строке значение lat - долгота.
* На 10 строке значение azimuthCorrection - азимут.
* На 11 строке значение alt - высота над уровнем моря.
Сохраняем файл и выходим из него комбинацией клавишь "Ctrl+O" -> "Enter" -> "Cntr+X".  
Запускаем файл командой:
```bash
python3 getPass_file.py
```
В терминале необходимо выбрать спутник, написав его номер в терминале и нажав "Enter". После выполнения данных действий мы получаем файл "config.py", который хранит в себе данные пролета спутника и трек пролета дрона. 
## 3. Настройка и подготовка Sdr, модуля отвечающего за запись данных.
В файле [sdr_python3.py](https://github.com/petayyyy/Lorett/blob/main/sdr_python3.py), необходимо выставить значения спутника. Открываем файл:
```bash
sudo nano sdr_python3.py
```
В нем меняем значения на 18 строчке, первое значение это название спутника (только заглавными буквами, на английском), второе время записи (в секундах).
Сохраняем файл и выходим из него комбинацией клавишь "Ctrl+O" -> "Enter" -> "Cntr+X". 
## Вы успешного готовы к принятию сигнала.
